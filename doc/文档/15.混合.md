# 混合

混合实现物体透明度的一种技术，一个物体的颜色不是自己决定的，是本身颜色和后面的物体颜色不同强度混合得到的。比如透过玻璃。透明度可以让我们看穿物体。

## 丢弃片段

一个树，只想看到树的部分，不想看到一张纹理的边框，就需要使用丢弃。

```
if(color.a <= 0){
    discard;
}

```

## 混合

丢弃片段可以处理要不透明度为1的，要么透明度为0的，不可以处理中间情况。 

### 开启混合

```
glEnable(GL_BLEND);
```

### 如何进行混合

Cr = Cs * Fs + Cd * Fd;

混合发生在片段着色器之后，各种测试完成  混合方程才会使用到片段颜色输出与当前颜色缓冲中的值上，颜色open gl定，原因子和目标因子可以自己决定。


需求：  红色之上绘制绿色

红色（1.0,0.0,0.0,1.0）
绿色（0.0,1.0,0.0,0.6）

绿色在红色之上，红色将会是目标颜色。

绿色乘以alpha，Fsrc = 原颜色向量的a（0.6），目标贡献0.4

c = 绿色 * 0.6 + 红色 * 0.4  最总的颜色


## 使用glBlendFunc

两个参数源  和  目标因子

举例：

- 使用源颜色向量作为源因子  1 - a 作为目标   GL_SRC_ALPHA,GL_ONE_MINUS_SRC_ALPHA